GO
/****** Object:  UserDefinedFunction [dbo].[[fn_Bracket]]    Script Date: 21.04.2024 21:16:42 ******/
/*  THIS FUNCTION CREATED BY CAN TOPSAKAL   */

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[fn_Bracket] (@WORD VARCHAR(8000), @SEPERATOR CHAR(1))

RETURNS @TEMPTABLE TABLE (items VARCHAR(8000)) 

AS

BEGIN

DECLARE @COUNTER INT

DECLARE @SEPERATED VARCHAR(8000)

SELECT @COUNTER = 1

IF LEN(@WORD)<1 OR @WORD IS NULL RETURN

WHILE @COUNTER != 0

BEGIN

SET @COUNTER = CHARINDEX(@SEPERATOR, @WORD)

IF @COUNTER !=0

SET @SEPERATED = LEFT(@WORD, @COUNTER-1 )

ELSE

SET @SEPERATED = @WORD

IF (LEN(@SEPERATED) > 0)

INSERT INTO @TEMPTABLE (items) VALUES (@SEPERATED)

SET @WORD = RIGHT(@WORD, LEN(@WORD) - @COUNTER)

IF LEN(@WORD) = 0 BREAK

END

RETURN

END
